<div class="container mt-5" *ngIf="producto">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="blog-title mb-0">Product Detail</h2>
    <div class="cart-icon position-relative" (click)="irAlCarrito()" style="cursor: pointer;">
      <i class="bi bi-cart3" style="font-size: 1.8rem;"></i>
      <span class="badge bg-danger position-absolute top-0 start-100 translate-middle">
        {{ cartCount }}
      </span>
    </div>
  </div>

  <div class="row" style="margin-bottom: 50px;margin-top: 50px;">
    <!-- Galería de imágenes -->
    <div class="col-md-6">
      <div class="mb-3 text-center">
        <img [src]="mainImageUrl"
             class="img-fluid border rounded"
             alt="Main Product Image"
             style="max-height: 400px; object-fit: contain;">
      </div>

      <div class="d-flex justify-content-center gap-2">
        <img *ngIf="producto.image_1_url" [src]="'https://abstractbeezzz.com/back/' + producto.image_1_url"
             class="img-thumbnail"
             style="width: 80px; height: 80px; object-fit: cover; cursor: pointer;"
             (click)="cambiarImagen(producto.image_1_url)">
        <img *ngIf="producto.image_2_url" [src]="'https://abstractbeezzz.com/back/' + producto.image_2_url"
             class="img-thumbnail"
             style="width: 80px; height: 80px; object-fit: cover; cursor: pointer;"
             (click)="cambiarImagen(producto.image_2_url)">
        <img *ngIf="producto.image_3_url" [src]="'https://abstractbeezzz.com/back/' + producto.image_3_url"
             class="img-thumbnail"
             style="width: 80px; height: 80px; object-fit: cover; cursor: pointer;"
             (click)="cambiarImagen(producto.image_3_url)">
      </div>
    </div>

    <!-- Información del producto -->
    <div class="col-md-6">
      <h3>{{ producto.name }}</h3>
      <p class="text-muted">{{ producto.CategoryName }}</p>
      <h4 class="text-success mb-3">$ {{ producto.price }}</h4>
      <p>{{ producto.description }}</p>

      <!-- Selector de cantidad -->
      <div class="d-flex align-items-center mb-3">
        <label for="quantity" class="me-2">Cantidad:</label>
        <input type="number"
               id="quantity"
               class="form-control"
               style="width: 100px;"
               [(ngModel)]="quantity"
               min="1">
      </div>

      <div class="d-grid gap-2 mt-4">
        <button class="btn btn-primary btn-lg" (click)="agregarAlCarrito(producto)">
          <i class="bi bi-cart-plus"></i> Agregar al carrito
        </button>
      </div>

      <div class="mt-4">
        <h5>Características</h5>
        <ul>
          <li>Weight: {{ producto.weight_oz }}</li>
          <li>Color: {{ producto.color }}</li>
          <li>Stock: {{ producto.stock }} unidades</li>
        </ul>
      </div>
    </div>
  </div>
</div>
